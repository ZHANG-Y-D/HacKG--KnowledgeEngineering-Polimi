define("modules/clean/loggers/device_type",["require","exports","tslib","modules/core/browser_detection"],(function(e,t,n,o){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceType=t.DeviceType=void 0,o=n.__importStar(o),(function(e){e.desktop="desktop",e.mobile="mobile",e.tablet="tablet"})(i=t.DeviceType||(t.DeviceType={})),t.getDeviceType=function(){return o.is_supported_mobile_browser()?i.mobile:o.is_tablet()?i.tablet:i.desktop}})),define("modules/clean/photos/batching_thumb_store",["require","exports","tslib","modules/clean/photos/thumb_loading/batching_thumb_loader","modules/clean/photos/thumb_loading/generic_thumb_store","modules/constants/request"],(function(e,t,n,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r);t.default=function(e){var t=!(!e||!e.allow_http2)&&e.allow_http2,n=r.IS_HTTP2&&t,a=n?void 0:new o.BatchingThumbLoader;return new i.GenericThumbStore(a,!n)}})),define("modules/clean/photos/thumb_loading/batching_thumb_loader",["require","exports","modules/clean/photos/batch_thumb_loader","modules/clean/photos/thumb_loading/utils"],(function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchingThumbLoader=void 0;var i=(function(){function e(){this.batch_thumb_loader=new n.BatchThumbLoader({})}return e.prototype.get_request_id=function(){return this.batch_thumb_loader.vend_request_id()},e.prototype.load_image=function(e,t,n,o,i,r){this.batch_thumb_loader.queue_thumb(e,this._thumb_loaded.bind(this,{url:e,request_id:t,success:o,error:i,should_retry:r}),{onrequest:n,request_id:t}),window.setTimeout(this.batch_thumb_loader.flush.bind(this.batch_thumb_loader,10))},e.prototype._thumb_loaded=function(e,t){var n=e.url,i=(e.request_id,e.success),r=e.error,a=e.should_retry;t&&0===t.indexOf("data:")?i(t):o.load_individual_image(n,0,i,r,a)},e.prototype.cancel_thumb=function(e){this.batch_thumb_loader.cancel_thumb(e)},e})();t.BatchingThumbLoader=i})),define("modules/clean/react/takedown_warning",["require","exports","tslib","react","classnames","modules/constants/python","modules/core/i18n"],(function(e,t,n,o,i,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TakedownWarning=void 0,o=n.__importDefault(o),i=n.__importDefault(i);t.TakedownWarning=function(e){var t=e.takedownType;return o.default.createElement("div",{className:i.default("notify","server-success")},(function(e){return e===r.TakedownRequestTypes.DMCA?a.intl.formatMessage({id:"z8QPs2",defaultMessage:"Certain files in this folder canâ€™t be shared due to a takedown request in accordance with the DMCA. <a>Learn more</a>"},{a:function(e){return o.default.createElement("a",{target:"_top",href:"/help/210"},e)}}):a.intl.formatMessage({id:"KUyXWm",defaultMessage:"Certain files in this folder are unavailable. For more information <a>contact Dropbox support</a>."},{a:function(e){return o.default.createElement("a",{target:"_top",href:"/ticket"},e)}})})(t))},t.TakedownWarning.displayName="TakedownWarning"})),define("modules/clean/react/thumbnail",["require","exports","tslib","classnames","react","modules/clean/photos/batching_thumb_store","spectrum/file_icon/index","modules/constants/python","modules/core/uri","modules/clean/file_store/utils"],(function(e,t,n,o,i,r,a,u,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailIcon=void 0,o=n.__importDefault(o),i=n.__importDefault(i),r=n.__importDefault(r);var d=r.default(),c=(function(e){function t(t){var n=e.call(this,t)||this;return n.bindingId=null,n.handleImageError=function(){n.setState({src:null})},n.state=n.getStateForTemplateUrl(n.props.file.thumbnail_url_tmpl),n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.bindThumbStore()},t.prototype.componentWillReceiveProps=function(e){var t=e.file.thumbnail_url_tmpl;t!==this.props.file.thumbnail_url_tmpl&&this.setState(this.getStateForTemplateUrl(t))},t.prototype.componentWillUpdate=function(){this.unbindThumbStore()},t.prototype.componentDidUpdate=function(){this.bindThumbStore()},t.prototype.componentWillUnmount=function(){this.unbindThumbStore()},t.prototype.bindThumbStore=function(){var e=this;if(this.state.isLoading&&!this.bindingId){var t=this.state.url;t&&(this.bindingId=d.bind_url(t,{onSuccess:function(){e.setState({isLoading:!1,src:d.get_thumb(t)})},onError:function(){e.setState({isLoading:!1})}}))}},t.prototype.unbindThumbStore=function(){this.bindingId&&(d.unbind_url(this.bindingId),this.bindingId=null)},t.prototype.getStateForTemplateUrl=function(e){var n=null;if(!e)return{isLoading:!1,src:null};var o=t.getThumbnailUrl(e);return o&&(n=d.get_thumb(o)),{isLoading:!!o&&!n,src:n,url:o}},t.getThumbnailUrl=function(e){if(e){var t=l.URI.parse(e);return t.updateQuery("size","178x178"),t.updateQuery("size_mode",u.THUMBNAIL_SIZE_MODE.EXACT.toString()),t.toString()}},t.prototype.render=function(){var e,t=this.props,n=t.alt,r=t.file,u=t.iconSize,l=t.className,d=this.state.src;return d?(e=["icon","thumbnail-image--loaded",l],i.default.createElement("img",{alt:n,className:o.default(e),src:d,onError:this.handleImageError})):(e=["icon","thumbnail-image--failed",l],i.default.createElement(a.FileIcon,{className:o.default(e),path:s.getFilename(r),variant:u}))},t.displayName="ThumbnailIcon",t})(i.default.Component);t.ThumbnailIcon=c}));
//# sourceMappingURL=pkg-shared_link_folder.min.js-vflChvAxB.map